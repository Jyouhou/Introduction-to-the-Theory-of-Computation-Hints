\section{Space Complexity}

\begin{itemize}
	
	%		8.8			%
	\item[8.8]
	Refer to Example 8.4.
	
	%		8.9			%
	\item[8.9]
	Build an \NTM\ which nondeterministically guesses a ladder $s, s_2, \dots, s_k$ and verifies whether $s_k = t$, where $k$ is obviously bounded in $2^{\mathcal{O}(|s|)}$. Then $\IT{LADDER}_{\DFA} \in \NPSPACE = \PSPACE$ follows.
	
	%		8.10		%
	\item[8.10]
	It can be reduced to $\IT{FORMULA-GAME}$ directly.
	
	%		8.11		%
	\item[8.11]
	If so, $\IT{SAT}$ is \PSPACE -hard, thus it is \PSPACE -complete.
	
	%		8.12		%
	\item[8.12]
	It is because $\phi_{c_1, c_2, 1}$ in the proof of Theorem 8.9 can be written in conjunctive normal form, as we see in the proof of Theorem 7.37 (Cook--Levin theorem).
	
	%		8.13		%
	\item[8.13]
	Reduce from $\IT{TQBF}$. Clearly we can construct a $g(n) = n^{100}+10^{100}$ space \TM\ $M$ deciding $\IT{TQBF}$. Build mapping $f(\Bra{\phi}) = \Bra{M', \Bra{\phi}\TT{\$0}^{g(|\Bra{\phi}|)}}$, where \LBA\ $M'$ does almost the same as $M$ does. On the other side, obviously $A_{\LBA} \in \PSPACE$.
	
	%		8.14		%
	\item[\Star 8.14]
	For any $\Bra{G, c, m, h}$, here is a polynomial time algorithm. Let $C[i][j] = +1$ or $-1$ stand for that we can determine $\Bra{G, i, j, h} \in \IT{HAPPY-CAT}$ or $\Bra{G, i, j, h} \in \IT{HAPPY-MOUSE}$. Similarly let $M[i][j] = +1$ or $-1$ stand for that we can determine $\Bra{G, i, j, h} \in \IT{HAPPY-MOUSE'}$ or $\Bra{G, i, j, h} \in \IT{HAPPY-CAT'}$, where $\IT{HAPPY-CAT'}$ is defined like $\IT{HAPPY-CAT}$, except that Mouse moves first. Now we set $M[i][i] = -1$ and $C[i][h] = -1$ for all $i \in G$. Then, repeatedly assign new value to $M$ and $C$ according to the following rules until we get nothing more from the rules.
	$$
		\left\{
			\begin{array}{ll}
				C[i][j] = -1, & \forall i' \in N(i),\ M[i'][j] = +1 \\
				C[i][j] = +1, & \exists i' \in N(i),\ M[i'][j] = -1 \\
				M[i][j] = -1, & \forall j' \in N(j),\ C[i][j'] = +1 \\
				M[i][j] = +1, & \exists j' \in N(j),\ C[i][j'] = -1
			\end{array}
		\right.
	$$
	where $N(v)$ stands for the collection of all nodes adjacent to $v$ in $G$. After this calculation, we claim that $\Bra{G, c, m, h} \in \IT{HAPPY-CAT} \iff C[c][m] = +1$. The proof of correctness of the algorithm is not evident but also not hard.
	
	%		8.15		%
	\item[8.15]
	\Empty
	
	%		8.16		%
	\item[8.16]
	\Empty
	
	%		8.17		%
	\item[8.17]
	A left-to-right scan with memorizing the amount of non-matched \TT{(}s is enough.
	
	%		8.18		%
	\item[\Star 8.18] 
	Let $h$ be a homomorphism that maps brackets to parentheses, e.g., $h(\TT{([)][]}) = \TT{(())()}$. Denote the substring of $w$ from the $i$-th character to the $j$-th character as $w_{[i,j]}$ and $w_i = w_{[i,i]}$. Then, $w \in B$ if and only if
	\begin{itemize}
		\item $h(w) \in A$, where $A$ is defined in Problem 8.17.
		\item $w_i$ matches $w_j$ whenever $h(w_{[i+1,j-1]}) \in A$, for all $1 \leq i \leq j \leq |w|$.
	\end{itemize}

	%		8.19		%
	\item[\Star 8.19] 
	It is a classical problem. See \url{https://en.wikipedia.org/wiki/Nim}. 
	
	%		8.20		%
	\item[8.20]
	\Empty
	
	%		8.21		%
	\item[8.21]
	\Empty
	
	%		8.22		%
	\item[8.22]
	\Empty
	
	%		8.23		%
	\item[\Star 8.23]
	Suppose $G = (V, E)$ has $n$ nodes named $v_0, v_1, \dots, v_{n-1}$ and define $v_k = v_{k \bmod n}$. Consider the sequence consisting of \emph{directed} edges in $G$, by seeing an undirected edge as two directed ones: $w_0, w_1, w_2, \dots$, where
	$$
		w_{m+1} = (v_j, v_k) \text{, if $w_m = (v_i, v_j)$ and $\{v_j, v_{i+1}\}, \{v_j, v_{i+2}\}, \dots, \{v_j, v_{k-1}\} \notin E$.}
	$$
	$G$ contains no cycle if and only if for every $w_0 = (u, v)$, the first $w_r$ in the sequence such that $w_r = (\cdot, u)$ is $(v, u)$. You may assume $G$ is connected without loss of generality and then use mathematical induction on $n$ to prove this. Note that the sequence $w_0, w_1, w_2, \dots$ would traverse every edges in $G$, i.e., perform depth-first search, if $G$ is a tree.
	
	%		8.24		%
	\item[\Star 8.24]
	\Sol{1}
		Let $N_i^{(n)}$ be an \NFA\ given as follows, with $\Sigma = \{\TT{x}_1, \dots, \TT{x}_n\}$.
		$$
			\xymatrix@R=3pc@C=2pc{
				& *+<1pc>[o][F=]{D} \ar@(lu,ru)[]^{\Sigma} & \\
				*+<1pc>[o][F=]{0} \ar@(l,l)[]^{} \ar@(ld,rd)[]_{\{ \TT{x}_j | j < i \}} \ar@/_/[rr]_{\TT{x}_i} \ar[ru]^{\{ \TT{x}_j | j > i \}} && 
				*+<1pc>[o][F-]{1} \ar@(ld,rd)[]_{\{ \TT{x}_j | j < i \}} \ar[lu]_{\TT{x}_i} \ar@/_/[ll]_{\{ \TT{x}_j | j > i \}}			
				%*+<1pc>[o][F=]{D} \ar@(ld,rd)[]_{\Sigma}& 
				%*+<1pc>[o][F=]{0} \ar@(lu,lu)[]^{} \ar@(ld,rd)[]_{\{ \TT{x}_j | j < i \}} \ar@/_/[r]_{\TT{x}_i} \ar[l]^{\{ \TT{x}_j | j > i \}} & 
				%*+<1pc>[o][F-]{1} \ar@(ld,rd)[]_{\{ \TT{x}_j | j < i \}} \ar@/_1pc/[ll]_{\TT{x}_i} \ar@/_/[l]
			}
		$$
		Denote its corresponding regular expression as $R_i^{(n)}$. Then the shortest string which is not in $R_1^{(n)} \cup R_2^{(n)} \cup \cdots \cup R_n^{(n)}$ is $\TT{x}_1 \TT{x}_2 \TT{x}_1 \TT{x}_3 \TT{x}_1 \TT{x}_2 \TT{x}_1 \TT{x}_4 \TT{x}_1 \TT{x}_2 \TT{x}_1 \TT{x}_3 \TT{x}_1 \TT{x}_2 \TT{x}_1 \cdots \TT{x}_n \cdots \TT{x}_1 \TT{x}_2 \TT{x}_1 \TT{x}_3 \TT{x}_1 \TT{x}_2 \TT{x}_1$, which is of length $2^{n}-1$.
		
	\Sol{2}
		See \url{https://math.stackexchange.com/a/79031/134950} for a simpler solution involving number theory.
	
	%		8.25		%
	\item[8.25]
	Surely $\IT{BIPARTITE} \in \RM{coNL} = \RM{NL}$, since we can guess an odd cycle, whose length is no more than $n$, to verify $\Bra{G} \notin \IT{BIPARTITE}$.
	
	%		8.26		%
	\item[8.26]
	Here is a sample which shows how to do reduction.
	\begin{gather*}
		\xymatrix@ur@R=1pc@C=1pc{
			*+[o][F-]{1} \ar@{-}[d] \ar@{-}[r] & *+[o][F-]{2} & \\
			*+[o][F-]{3} & *+[o][F-]{4} \ar@{-}[u] \ar@{-}[l] \ar@{-}[rd] & \\
			& & *+[o][F-]{5}
			% *+[o][F-]{\RM{S}} \ar@/^/[r]^{\{ \TT{x}_i | x_i = 1 \}} \ar@/_/[d]_{\{ \TT{x}_i | x_i = 0 \}} &
			% *+[o][F-]{T} \ar^{\TT{t}}[d] \ar^{\TT{f}}[l] \\
			% *+[o][F-]{F} \ar_{\TT{f}}[r] \ar_{\TT{t}}[u] & 
			% *+[o][F-]{A} \ar@(ur,rd)[]^{\Sigma}
		}
		\scalebox{1.5}{$\qquad \implies$} \\
		\xymatrix@R=1.5pc@C=0.5pc{
			&&&&&&&&&&&& 
			*+[o][F-]{S} 
			\ar@{-}@(l,u)[dllllllllllll]
			\ar@{-}@(ld,ur)[dllllll]
			\ar@{-}[d]
			\ar@{-}@(rd,ul)[drrrrrr]
			\ar@{-}@(r,u)[drrrrrrrrrrrr]
			&&&&&&&&&&&& \\
			*+[o][F-]{1} \ar@{-}[rd] \ar@{-}[rrd] & *+[o][F-]{2} \ar@{-}[dl] \ar@{-}[drr] & *+[o][F-]{3} \ar@{-}[dll] \ar@{-}[dr] & *+[o][F-]{4} \ar@{-}[dl] \ar@{-}[dll] \ar@{-}[dr] & *+[o][F-]{5} \ar@{-}[dl] &
			*+[o][F-]{1} \ar@{-}[rd] \ar@{-}[rrd] & *+[o][F-]{2} \ar@{-}[dl] \ar@{-}[drr] & *+[o][F-]{3} \ar@{-}[dll] \ar@{-}[dr] & *+[o][F-]{4} \ar@{-}[dl] \ar@{-}[dll] \ar@{-}[dr] & *+[o][F-]{5} \ar@{-}[dl] &
			*+[o][F-]{1} \ar@{-}[rd] \ar@{-}[rrd] & *+[o][F-]{2} \ar@{-}[dl] \ar@{-}[drr] & *+[o][F-]{3} \ar@{-}[dll] \ar@{-}[dr] & *+[o][F-]{4} \ar@{-}[dl] \ar@{-}[dll] \ar@{-}[dr] & *+[o][F-]{5} \ar@{-}[dl] &
			*+[o][F-]{1} \ar@{-}[rd] \ar@{-}[rrd] & *+[o][F-]{2} \ar@{-}[dl] \ar@{-}[drr] & *+[o][F-]{3} \ar@{-}[dll] \ar@{-}[dr] & *+[o][F-]{4} \ar@{-}[dl] \ar@{-}[dll] \ar@{-}[dr] & *+[o][F-]{5} \ar@{-}[dl] &
			*+[o][F-]{1} \ar@{-}[rd] \ar@{-}[rrd] & *+[o][F-]{2} \ar@{-}[dl] \ar@{-}[drr] & *+[o][F-]{3} \ar@{-}[dll] \ar@{-}[dr] & *+[o][F-]{4} \ar@{-}[dl] \ar@{-}[dll] \ar@{-}[dr] & *+[o][F-]{5} \ar@{-}[dl] \\
			*+[o][F-]{1} & *+[o][F-]{2} & *+[o][F-]{3} & *+[o][F-]{4} & *+[o][F-]{5} &
			*+[o][F-]{1} & *+[o][F-]{2} & *+[o][F-]{3} & *+[o][F-]{4} & *+[o][F-]{5} &
			*+[o][F-]{1} & *+[o][F-]{2} & *+[o][F-]{3} & *+[o][F-]{4} & *+[o][F-]{5} &
			*+[o][F-]{1} & *+[o][F-]{2} & *+[o][F-]{3} & *+[o][F-]{4} & *+[o][F-]{5} &
			*+[o][F-]{1} & *+[o][F-]{2} & *+[o][F-]{3} & *+[o][F-]{4} & *+[o][F-]{5} \\
			&&&&&&&&&&&& 
			*+[o][F-]{T} 
			\ar@{-}@(l,d)[ullllllllllll]
			\ar@{-}@(lu,dr)[ullllll]
			\ar@{-}[u]
			\ar@{-}@(ru,dl)[urrrrrr]
			\ar@{-}@(r,d)[urrrrrrrrrrrr]
			&&&&&&&&&&&&
		}
	\end{gather*}
	
	%		8.27		%
	\item[8.27]
	Reduce from $\IT{PATH}$. In order to determine whether a path from $s$ to $t$ exists in graph $G = (V, E)$, we add some edges $(v, s)$ and $(t, v)$ for all $v \in V$ to obtain a modified graph $G'$. Then a path exists if and only if $G'$ is strongly connected. On the other side, it is obviously in $\RM{NL}$.
	
	%		8.28		%
	\item[8.28]
	\Empty
	
	%		8.29		%
	\item[8.29]
	\Empty
	
	%		8.30		%
	\item[8.30]
	\Empty
		
	%		8.31		%
	\item[\Star 8.31]
	Surely it is in $\RM{NL}$. On the other side, note that $\neg x \vee y = x \to y$. Then there is a path from $s$ to $t$ in $G = (V, E)$ if and only if
	$$
		\phi = s \wedge (t \to \neg s) \bigwedge_{(u, v) \in E} (u \to v)
	$$
	is not satisfiable. Hence $\overline{\IT{PATH}} \leq_{\RM{L}} \IT{2SAT}$. And $\overline{\IT{PATH}}$ is $\RM{NL}$-complete by $\RM{NL} = \RM{coNL}$.
	
	%		8.32		%
	\item[8.32]
	\Empty
	
	%		8.33		%
	\item[\Star 8.33] 
	In other words, you are asked to find an $\RM{NL}$-complete language $A$ and a context-free language $B$ such that $A \equiv_{\RM{L}} B$. We choose $A = \IT{PATH}$ and $\{\TT{0}, \TT{1}, \TT{\#}\}^* \supseteq B = f(A)$, in which $f: A \to B$ is defined as follows.
	$$
		f(\Bra{G, s, t}) = \Bra{s}^{\mathcal{R}}(\TT{\#} \Bra{e_1} \Bra{e_2} \cdots \Bra{e_m} \TT{\#} )^n\Bra{t},
	$$
	where $G = (V, E)$, $|V| = n$, $E = \{e_1, \dots, e_m\}$, $\Bra{e_i} = \TT{\#} \Bra{u_i}\TT{\#}\Bra{v_i}^{\mathcal{R}}\TT{\#}$ if $e_i = (u_i, v_i)$.
	
	%		8.34		%
	\item[\Star 8.34] 
	\Omit
	
\end{itemize}